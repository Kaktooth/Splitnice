CREATE TABLE "user" (
    id SERIAL PRIMARY KEY,
    username VARCHAR,
    email VARCHAR,
    phone VARCHAR
);

CREATE TABLE account (
    id SERIAL PRIMARY KEY,
    username VARCHAR,
    email VARCHAR,
    phone VARCHAR,
    user_id INTEGER
        CONSTRAINT fk_user
            REFERENCES "user"(id)
);

CREATE TABLE "group" (
    id SERIAL PRIMARY KEY,
    title VARCHAR,
    creator_id INTEGER
        CONSTRAINT fk_creator
            REFERENCES account(id)
);

CREATE TABLE group_account (
    id SERIAL PRIMARY KEY,
    role VARCHAR,
    added_by_id INTEGER
        CONSTRAINT fk_added_by
            REFERENCES account(id),
    group_id INTEGER
        CONSTRAINT fk_group
            REFERENCES "group"(id),
    account_id INTEGER
        CONSTRAINT fk_account
            REFERENCES account(id)
);

CREATE TABLE balance (
    id SERIAL PRIMARY KEY,
    amount BIGINT,
    balance_type VARCHAR,
    owner INTEGER
        CONSTRAINT fk_owner
            REFERENCES "group"(id)
);

CREATE TABLE currency (
    id SERIAL PRIMARY KEY,
    title VARCHAR,
    exchange_rate BIGINT
)

